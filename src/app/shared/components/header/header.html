<header class="sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm w-full px-4 sm:px-6 lg:px-8">

  <!-- Top Row: Brand + User Info -->
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 p-4">

    <!-- Brand -->
    <button (click)="navigateTo('/dashboard')"
      class="text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors">
      Medical Inventory
    </button>

    <!-- User Info  -->
    <div *ngIf="isLoggedIn()" class="flex items-center gap-3 w-full md:w-auto">

      <!-- Avatar -->
      <div
        class="w-8 h-8 md:w-8 md:h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
        <span class="text-white text-sm font-bold">{{ getUserInitials() }}</span>
      </div>

      <div class="text-right md:text-left">
        <span class="px-2 py-0.5 text-xs font-medium rounded-full" [class]="roleBadgeColor()">
          {{ roleDisplayName() }}
        </span>


      </div>

      <!-- Logout button -->
      <button (click)="logout()" class="text-gray-400 hover:text-red-600 p-2 rounded-md transition-colors"
        title="Cerrar sesiÃ³n">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
        </svg>
      </button>

    </div>

  </div>

  <!-- Navigation Bar -->
  <nav *ngIf="isLoggedIn()"
    class="flex flex-col items-start md:flex-row flex-wrap md:items-center gap-2 pt-2 border-t border-gray-100">
    <a *ngFor="let menu of availableMenus(); trackBy: trackByRoute" [routerLink]="menu.route"
      routerLinkActive="bg-blue-100 text-blue-700 font-semibold"
      class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors">
      <span class="text-base">{{ getMenuIcon(menu.icon) }}</span>
      <span>{{ menu.label }}</span>
      <span *ngIf="menu.badge" class="ml-1 px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded-full">
        {{ menu.badge }}
      </span>
    </a>
  </nav>

</header>